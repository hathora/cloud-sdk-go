// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package components

import (
	"github.com/hathora/cloud-sdk-go/hathoracloud/internal/utils"
)

type DeploymentConfigEnv struct {
	Value string `json:"value"`
	Name  string `json:"name"`
}

func (d *DeploymentConfigEnv) GetValue() string {
	if d == nil {
		return ""
	}
	return d.Value
}

func (d *DeploymentConfigEnv) GetName() string {
	if d == nil {
		return ""
	}
	return d.Name
}

// DeploymentConfig - User specified deployment configuration for your application at runtime.
type DeploymentConfig struct {
	// Option to shut down processes that have had no new connections or rooms
	// for five minutes.
	IdleTimeoutEnabled *bool `default:"true" json:"idleTimeoutEnabled"`
	// The environment variable that our process will have access to at runtime.
	Env []DeploymentConfigEnv `json:"env"`
	// Governs how many [rooms](https://hathora.dev/docs/concepts/hathora-entities#room) can be scheduled in a process.
	RoomsPerProcess int `json:"roomsPerProcess"`
	// A plan defines how much CPU and memory is required to run an instance of your game server.
	//
	// `tiny`: shared core, 1gb memory
	//
	// `small`: 1 core, 2gb memory
	//
	// `medium`: 2 core, 4gb memory
	//
	// `large`: 4 core, 8gb memory
	PlanName PlanName `json:"planName"`
	// Additional ports your server listens on.
	AdditionalContainerPorts []ContainerPort `json:"additionalContainerPorts,omitempty"`
	// Transport type specifies the underlying communication protocol to the exposed port.
	TransportType TransportType `json:"transportType"`
	// Default port the server listens on.
	ContainerPort int `json:"containerPort"`
}

func (d DeploymentConfig) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(d, "", false)
}

func (d *DeploymentConfig) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &d, "", false, []string{"env", "roomsPerProcess", "planName", "transportType", "containerPort"}); err != nil {
		return err
	}
	return nil
}

func (d *DeploymentConfig) GetIdleTimeoutEnabled() *bool {
	if d == nil {
		return nil
	}
	return d.IdleTimeoutEnabled
}

func (d *DeploymentConfig) GetEnv() []DeploymentConfigEnv {
	if d == nil {
		return []DeploymentConfigEnv{}
	}
	return d.Env
}

func (d *DeploymentConfig) GetRoomsPerProcess() int {
	if d == nil {
		return 0
	}
	return d.RoomsPerProcess
}

func (d *DeploymentConfig) GetPlanName() PlanName {
	if d == nil {
		return PlanName("")
	}
	return d.PlanName
}

func (d *DeploymentConfig) GetAdditionalContainerPorts() []ContainerPort {
	if d == nil {
		return nil
	}
	return d.AdditionalContainerPorts
}

func (d *DeploymentConfig) GetTransportType() TransportType {
	if d == nil {
		return TransportType("")
	}
	return d.TransportType
}

func (d *DeploymentConfig) GetContainerPort() int {
	if d == nil {
		return 0
	}
	return d.ContainerPort
}
